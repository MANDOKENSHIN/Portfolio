# 多機能時間管理ウェブアプリケーション要求仕様書

## 1. 文書管理情報

| 項目 | 内容 |
|------|------|
| 文書名 | 多機能時間管理Webアプリケーション(Timebuddy) 要求仕様書 |
| バージョン | 1.0 |
| 作成日 | 2026年1月4日 |
| 最終更新日 | 2026年1月4日 |
| 作成者 | 萬藤・安達・仲野 |
| レビュー担当者 | 田上様 |
| 承認者 | 田上様 |
| ステータス | レビュー中 |

### 1.1 改訂履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|-----------|------|---------|--------|
| 1.0 | 2026年1月4日 | 初版作成 | 萬藤・安達・仲野 |

---

## 2. プロジェクト概要

### 2.1 目的・背景

#### 2.1.1 システム開発の目的
本システムは、日常生活や業務における時間管理の効率化を目的とした、ブラウザベースの統合時間管理ツールです。以下のビジネス価値を提供します。

- **生産性向上**: タスクベースの時間管理により、集中力と作業効率を向上
- **アクセシビリティ**: インストール不要で、あらゆるデバイスから即座に利用可能
- **コスト削減**: 無料で提供することで、広範なユーザー層に時間管理ツールを普及

#### 2.1.2 システム概要
本システムは、ブラウザ上で動作する統合時間管理ツールで、以下の3つの主要機能を単一のインターフェースで提供します。

1. **タイマー機能**: カウントダウン方式の時間計測
2. **アラーム機能**: 指定時刻での通知
3. **ストップウォッチ機能**: 経過時間の計測とラップタイム記録

ユーザーは、直感的なタブ切り替えで各機能を素早く利用できます。

### 2.2 スコープ

#### 2.2.1 対象範囲（In Scope）
本プロジェクトでは、以下の機能・要件を実装対象とします。

- タイマー機能（単一タイマーのカウントダウン）
- アラーム機能（最大5個までの時刻指定アラーム）
- ストップウォッチ機能（ラップタイム記録含む）
- 3機能間のシームレスな切り替えインターフェース
- レスポンシブデザイン（デスクトップ、タブレット、スマートフォン対応）
- ダークモード/ライトモードの切り替え
- ブラウザローカルストレージを使用した設定の永続化
- 音声通知機能（音量調整、オン/オフ切り替え含む）
- 基本的なアクセシビリティ対応（色覚異常への配慮、キーボード操作等）

#### 2.2.2 対象外（Out of Scope）
以下の機能・要件は、本プロジェクトの対象外とします。

- **複数タイマーの同時実行**: 複数のタイマーを同時に動作させる機能
- **タイマープリセット機能**: よく使う時間設定を保存・呼び出す機能
- **クラウド同期**: 異なるデバイス間でのデータ同期
- **ユーザーアカウント管理**: ログイン・認証機能
- **ネイティブアプリ版**: PC・スマートフォン用のネイティブアプリケーション開発
- **統計・分析機能**: 時間の使用履歴や統計データの表示
- **カスタム通知音**: ユーザー独自の音声ファイルのアップロード
- **繰り返しアラーム**: 曜日指定や周期的なアラーム設定
- **タイムゾーン対応**: 複数のタイムゾーンでのアラーム設定

### 2.3 ステークホルダー

#### 2.3.1 プロジェクト関係者

| 役割 | 氏名 | 責任範囲 |
|-----|------|---------|
| プロジェクトオーナー | 田上様 | 要件定義、最終承認 |
| 開発メンバー | 萬藤・安達・仲野 | 設計、実装、テスト |
| レビュアー | 田上様 | 仕様レビュー、品質確認 |

#### 2.3.2 想定ユーザー（ペルソナ）

本システムは、以下のような多様なユーザー層を想定しています。

1. **在宅勤務者**
   - ニーズ: ポモドーロテクニックなどのタスク管理、集中時間の計測
   - 利用シーン: 25分作業/5分休憩のサイクル管理

2. **教育関係者（教師）**
   - ニーズ: 授業時間や各活動の時間制限管理
   - 利用シーン: グループワークの制限時間設定、試験時間の計測

3. **学生**
   - ニーズ: 勉強時間の計測、科目ごとの学習時間管理
   - 利用シーン: 自習時間の測定、休憩時間のアラーム設定

4. **料理愛好家**
   - ニーズ: 調理時間の管理、複数の調理工程の時間計測
   - 利用シーン: パスタの茹で時間、オーブンの加熱時間

5. **一般ユーザー**
   - ニーズ: 日常的な時間管理（目覚まし、リマインダー等）
   - 利用シーン: 朝のアラーム、洗濯機のタイマー代わり

**前提条件**: モダンなWebブラウザの基本操作ができること

---

## 3. 機能要件

### 3.1 共通機能

#### 3.1.1 機能切り替え

**概要**: ユーザーは、タイマー・アラーム・ストップウォッチの3つのモードを切り替えて使用できる。

**詳細仕様**:
- 画面上部にタブ形式の切り替えボタンを配置すること
- 各タブには機能名とアイコンを表示すること
- 選択中のタブは視覚的に区別できるデザインとすること
- タブのクリック/タップで即座にモードが切り替わること

**バックグラウンド動作**:
- タイマー: 他のモードに切り替えても、カウントダウンは継続する。残り時間が0になったら通知を発行する
- アラーム: 設定されたアラームは常に監視され、他のモードでも設定時刻になれば通知を発行する
- ストップウォッチ: 計測中に他のモードに切り替えても、バックグラウンドで計測を継続する

**例外処理**:
- ブラウザのタブが非アクティブになった場合でも、バックグラウンドでの動作を継続する
- ただし、ブラウザの省電力機能により、タイマー精度が低下する可能性がある旨を初回起動時に通知する

#### 3.1.2 レスポンシブデザイン

**概要**: デスクトップ、タブレット、スマートフォンの各画面サイズに最適化されたUIを提供する。

**詳細仕様**:
- 最小画面幅320pxから表示可能であること
- ブレークポイント:
  - モバイル: 320px～767px
  - タブレット: 768px～1023px
  - デスクトップ: 1024px以上
- 各画面サイズでボタンのサイズ、配置、フォントサイズを最適化すること
- タッチデバイスでは、ボタンのタップ領域を最低44×44pxとすること（Appleヒューマンインターフェイスガイドライン準拠）

### 3.2 タイマー機能

**目的**: 設定した時間が経過したことを通知する。

#### 3.2.1 時間設定

**概要**: ユーザーは、時・分・秒を指定してタイマーを設定できる。

**詳細仕様**:

**設定可能範囲**:
- 最小: 0時間0分1秒
- 最大: 23時間59分59秒

**時刻設定方法**:
1. **数値入力フィールド**: 時・分・秒をそれぞれ直接入力
   - 入力フィールドは数値のみ受け付ける
   - 範囲外の値は自動的に補正する（例: 70秒 → 1分10秒）
2. **ドロップダウン選択**:時: 0～23、分: 0～59
3. **プリセットボタン**: よく使う時間（1分、5分、10分、25分）をワンタップで設定

**バリデーション**:
- 0時間0分0秒は設定不可とし、開始ボタンが非活性状態
- 非数値文字の入力は無視する
- 入力フォーカスを失った際に、自動的に適切な形式（2桁表示）に整形する

#### 3.2.2 カウントダウン表示

**概要**: 設定した時間からのカウントダウンを視覚的に表示する。

**詳細仕様**:
- 表示形式: 「HH:MM:SS」（例: 01:23:45）
- フォントサイズ: 画面幅の10%以上（最小36px、最大96px）
- 更新頻度: 1秒ごと
- 表示精度: 秒単位

**追加情報の表示**:
- カウントダウン終了予定時刻を「HH:MM」形式で表示（例: 「14:30に終了」）
- 予定時刻は、設定時の現在時刻に設定時間を加算して算出
- 残り時間が1分を切ったら、残り時間表示を赤色にして視覚的に強調

**進捗表示**:
- 円形プログレスバーで視覚的に進捗を表示（オプション）

#### 3.2.3 タイマー操作

**概要**: タイマーの開始、停止、リセット操作を提供する。

**詳細仕様**:

**開始ボタン**:
- 機能: カウントダウンを開始
- 状態変化: ボタンが「停止」ボタンに切り替わる
- 制約: 0時間0分0秒では開始不可（ボタンを非活性化）

**一時停止ボタン**:
- 機能: カウントダウンを停止
- 状態変化: ボタンが「再開」ボタンに切り替わる
- 動作: 現在の残り時間を保持

**リセットボタン**:
- 機能: 設定した初期時間に戻す
- 活性条件: 停止中のみ活性
- 確認ダイアログ: 「リセットしますか？」と確認ダイアログを表示
- 動作: タイマーを停止し、初期設定時間に戻す

**キーボードショートカット**:
- スペースキー: 開始/停止の切り替え
- Rキー: リセット（停止中のみ）

#### 3.2.4 タイマー完了通知

**概要**: カウントダウンが0になった時、ユーザーに通知する。

**詳細仕様**:

**音声通知**:
- 通知音: フリー素材の音声ファイル（ベル音等、3秒程度）
- 再生回数: 3回リピート再生（合計約9秒）
- 音量: ユーザーが設定した音量レベル（デフォルト: 50%）
- 停止方法: 「停止」ボタンをクリック/タップ、または任意のキー入力で停止

**画面通知**:
- 表示内容: 「タイマー終了」メッセージを大きく表示
- 表示位置: 画面中央にモーダル表示
- 背景: 半透明のオーバーレイで他の操作を一時的にブロック
- アニメーション: フェードイン効果で表示

**ブラウザ通知**:
- Notification APIを使用し、ブラウザの通知機能でも通知を表示
- 通知内容: 「タイマーが終了しました」
- ユーザーが通知を拒否した場合、画面内通知と音声通知のみ実施

**通知後の動作**:
- 通知音停止後、設定画面に戻る
- 「再度開始」ボタンを表示し、同じ時間でのタイマー再実行を容易にする

### 3.3 アラーム機能

**目的**: 指定した時刻になったことを通知する。

#### 3.3.1 アラーム時刻設定

**概要**: ユーザーは、指定した時刻に通知を受け取るアラームを設定できる。

**詳細仕様**:

**設定可能範囲**:
- 最小: 0時0分（HH:MM）
- 最大: 23時59分（HH:MM）

**時刻設定方法**:
1. **数値入力フィールド**:時・分を個別に入力
   - 入力フィールドは数値のみ受け付ける
   - 範囲外の値は自動的に補正する（例: 25:00 → 01:00）
2. **ドロップダウン選択**:時: 0～23、分: 0～59

#### 3.3.2 アラーム一覧

**概要**: 設定したアラームを一覧表示し、各アラームの状態を管理できる。

**詳細仕様**:

**表示内容**:
- 設定時刻（HH:MM形式）
- アラームラベル（設定されている場合）
- オン/オフ切り替えスイッチ
- 削除ボタン

**表示順序**:
- 時刻順（昇順）で表示
- 同じ時刻の場合、追加順で表示

**制約**:
- 最大5個まで登録可能
- 5個登録済みの状態で「新規追加」ボタンをクリックした場合、「最大5個まで登録できます。不要なアラームを削除してください」とメッセージを表示

**オン/オフ切り替え**:
- トグルスイッチで各アラームのオン/オフを切り替え
- オフにしたアラームは一覧に残るが、通知は発行されない
- オフ状態は視覚的に区別できるよう、グレーアウト表示

#### 3.3.3 アラーム追加・削除

**概要**: 新しいアラームを追加、または既存のアラームを削除できる。

**詳細仕様**:

**アラーム追加**:
- 「＋新しいアラーム」ボタンをクリックで追加フォームを表示
- 追加フォーム:
  - 時刻設定フィールド
  - ラベル入力フィールド（任意で入力）
  - 「保存」ボタン、「キャンセル」ボタン
- 保存時、入力内容をバリデーションし、問題なければアラーム一覧に追加
- デフォルト状態: オン

**上限制御**:
- 5個登録済みの場合、「新規追加」ボタンを非活性化
- ボタンにカーソルを合わせると「最大5個まで登録できます」とツールチップを表示
- 自動削除は行わない（ユーザーの意図しないデータ消失を防ぐため）

**アラーム削除**:
- 各アラームに「削除」ボタンを配置
- クリック時、確認ダイアログを表示: 「このアラームを削除しますか？」
- 「削除」を選択した場合、アラーム一覧から削除し、ローカルストレージからも削除

#### 3.3.4 アラーム通知

**概要**: 設定時刻になったら、ユーザーに通知を発行する。

**詳細仕様**:

**音声通知**:
- 通知音: フリー素材の音声ファイル（ベル音等、3秒程度）
- 再生回数: 3回リピート再生（合計約9秒）
- 音量: ユーザーが設定した音量レベル（デフォルト: 50%）
- 停止方法: 「停止」ボタン、「スヌーズ」ボタン、または任意のキー入力

**画面通知**:
- 表示内容:
  - 「アラーム」の見出し
  - 設定時刻（HH:MM）
  - ラベル（設定されている場合）
  - 「停止」ボタン、「スヌーズ」ボタン
- 表示位置: 画面中央にモーダル表示
- 背景: 半透明のオーバーレイ

**ブラウザ通知**:
- Notification APIを使用してブラウザ通知を発行
- 通知内容: 「アラーム: [ラベル] [時刻]」

**スヌーズ機能**:
- スヌーズボタンをクリックすると、5分後に再度通知を発行
- スヌーズは最大3回まで可能
- スヌーズ中は、アラーム一覧に「スヌーズ中（XX:XX再通知予定）」と表示

**通知後の動作**:
- 通知音停止後、設定画面に戻る
- 同じ時間でのアラームにおいてはスイッチOFFの状態で表示

#### 3.3.5 アラームラベル

**概要**: 各アラームに任意のラベル（メモ）を設定できる。

**詳細仕様**:

**ラベル入力**:
- 入力フィールド: テキスト入力（1行）
- 最大文字数: 20文字
- 文字種制限: なし（絵文字も使用可能）
- デフォルト: 空欄（ラベルなし）

**ラベル表示**:
- アラーム一覧: 時刻の下に小さく表示
- アラーム通知: ラベルが設定されている場合、通知メッセージに含める
  - 例: 「アラーム: 薬を飲む 14:30」

**バリデーション**:
- 21文字以上入力した場合、20文字で自動的に切り詰める
- 入力中に残り文字数を表示（例: 「残り10文字」）

### 3.4 ストップウォッチ機能

**目的**: 経過時間を計測・記録する。

#### 3.4.1 時間計測

**概要**: 経過時間をミリ秒単位で計測し、表示する。

**詳細仕様**:

**表示形式**: 「HH:MM:SS」
- HH: 時（2桁）
- MM: 分（2桁）
- SS: 秒（2桁）
- mm: ミリ秒の100分の1（2桁、つまり10ミリ秒単位）
- 例: 01:23:45:67

**計測範囲**:
- 最小: 00:00:00:00
- 最大: 99:59:59:99
- 最大値に達した場合、計測を停止し、「最大計測時間に達しました」とメッセージを表示

**更新頻度**:
- 10ミリ秒ごとに表示を更新

**計測精度**:
- ブラウザのタブが非アクティブになった場合、精度が低下する可能性がある

#### 3.4.2 ストップウォッチ操作

**概要**: ストップウォッチの開始、停止、リセット、ラップ記録の操作を提供する。

**詳細仕様**:

**開始ボタン**:
- 機能: 計測を開始
- 状態変化: ボタンが「停止」ボタンに切り替わり、「ラップ」ボタンが活性化

**停止ボタン**:
- 機能: 計測を停止
- 状態変化: ボタンが「再開」ボタンに切り替わり、「リセット」ボタンが活性化
- 動作: 現在の経過時間を保持

**ラップボタン**:
- 機能: 現在の経過時間をラップタイムとして記録
- 活性条件: 計測中のみ活性
- 動作: 計測は継続したまま、現在時刻をラップタイム一覧に追加

**リセットボタン**:
- 機能: 00:00:00:00に戻す
- 活性条件: 停止中のみ活性
- 確認ダイアログ: ラップタイムが記録されている場合、「ラップタイムもすべて削除されます。リセットしますか？」と確認ダイアログを表示
- 動作: 経過時間とラップタイム一覧をクリア

**キーボードショートカット**:
- スペースキー: 開始/停止の切り替え
- Lキー: ラップ記録（計測中のみ）
- Rキー: リセット（停止中のみ）

#### 3.4.3 ラップタイム記録

**概要**: ラップボタンで記録したラップタイムを一覧表示する。

**詳細仕様**:

**記録内容**:
- ラップ番号（連番）
- ラップタイム（その時点での経過時間）
- スプリットタイム（前回ラップからの経過時間）

**表示形式**:
- テーブル形式で表示
- 列: 番号、ラップタイム、スプリットタイム
- 例:

| No | ラップタイム | スプリット |
|---|------------|-----------|
| 2 | 00:21:15:67 | 00:10:52:22 |
| 1 | 00:10:23:45 | 00:10:23:45 |

**表示順序**:
- 最新のラップが上に表示される（降順）

**記録上限**:
- 最大20個まで記録
- 21個目を記録すると、最も古いラップ（1番下）を自動削除
- 削除前に「最大20個まで記録できます。最も古いラップを削除して記録しますか？」と確認ダイアログを表示

**強調表示**:
- 最速ラップタイム（スプリット）を緑色で強調
- 最遅ラップタイム（スプリット）を赤色で強調

---

## 4. 非機能要件

### 4.1 性能要件

#### 4.1.1 ページ読み込み性能

**詳細仕様**:

- 初回ページ読み込み時間: 1秒以内（ローカルファイルシステムからの読み込み）
- リソース総サイズ: 500KB以下（HTML、CSS、JavaScript、画像、音声ファイル含む）
- ネットワーク遅延なし: ローカル環境のため、ネットワーク起因の遅延は考慮不要

**測定方法**: 

- ブラウザの開発者ツール（Chrome DevTools）のNetworkタブで計測
- ローカルサーバー（Live Server等）を使用した場合の読み込み時間を測定

#### 4.1.2 リアルタイム更新性能

**詳細仕様**:
- タイマー・ストップウォッチの時刻表示更新遅延: 100ミリ秒以内
- ボタン操作に対する反応時間: 200ミリ秒以内
- UI操作時のアニメーション: 60fps以上を維持

**測定方法**: Chrome DevToolsのPerformanceタブで計測

### 4.2 信頼性・可用性

#### 4.2.1 システム可用性

**詳細仕様**:
- **ローカル環境での実行**: ブラウザがクラッシュしない限り、常時利用可能
- **オフライン動作**: 完全オフライン対応（インターネット接続不要）

#### 4.2.2 データ信頼性

**詳細仕様**:
- アプリケーションは、予期しないエラーが発生してもクラッシュしないこと
- すべての主要な処理（タイマー開始、アラーム設定等）にエラーハンドリングを実装すること
- エラー発生時、ユーザーに分かりやすいメッセージを表示し、操作を継続できるようにすること
- エラーログをブラウザコンソールに出力すること（デバッグ用）

**確認方法**: 
- 異常系テストで、アプリケーションがクラッシュしないことを確認
- エラーハンドリングの実装をコードレビューで確認

### 4.3 ユーザビリティ

#### 4.3.1 直感的操作性

**詳細仕様**:
- 初めて使用するユーザーが、説明なしで基本操作（各機能の設定、開始、停止）を理解できること
- 主要な操作（開始/停止ボタン等）は、3タップ以内でアクセス可能とすること

#### 4.3.2 フィードバック

**詳細仕様**:
- すべてのボタン操作に対して、視覚的フィードバック（ホバー、アクティブ状態）を提供すること
- タッチデバイスでは、タップ時に軽微な触覚フィードバック（Vibration API使用）を提供すること
- 操作完了時、適切な確認メッセージやアニメーションを表示すること

#### 4.3.3 タッチ操作性

**詳細仕様**:
- すべてのインタラクティブ要素（ボタン、リンク等）のタップ領域: 最低44×44px（iOS HIG準拠）
- インタラクティブ要素間のマージン: 最低8px
- スワイプジェスチャー: 機能切り替えタブをスワイプで切り替え可能（オプション）

### 4.4 アクセシビリティ

#### 4.4.1 WCAG準拠レベル

**詳細仕様**:
- WCAG 2.1レベルAA準拠を目標とする
- 主要な準拠項目:
  - 1.4.3 コントラスト（最小）: テキストと背景のコントラスト比4.5:1以上
  - 2.1.1 キーボード操作: すべての機能をキーボードのみで操作可能
  - 2.4.7 フォーカスの可視化: フォーカス状態を明確に視覚化
  - 3.2.4 一貫した識別性: 同じ機能には同じアイコン/ラベルを使用

#### 4.4.2 色覚異常への配慮

**詳細仕様**:
- 情報伝達を色のみに依存しないこと（アイコン、テキストラベルを併用）
- 色覚異常シミュレーションツールでテストし、主要な色覚異常タイプ（1型、2型、3型）で情報が識別可能であること
- 推奨カラーパレット: ColorBrewer等のアクセシブルなカラーパレットを使用

#### 4.4.3 キーボード操作

**詳細仕様**:
- すべての機能をキーボードのみで操作可能とすること
- タブキーでフォーカス移動、エンターキー/スペースキーで決定
- Escキーでダイアログやモーダルを閉じる
- カスタムキーボードショートカット一覧をヘルプ画面に表示すること

### 4.5 保守性・拡張性

#### 4.5.1 コード品質

**詳細仕様**:
- コーディング規約: ESLint + Prettierを使用し、一貫したコードスタイルを維持
- コメント: 複雑なロジックには必ずコメントを記載
- コードレビュー: すべてのコードは2名のレビューを経てマージ

#### 4.5.2 ドキュメント化

**詳細仕様**:
- README.md: プロジェクト概要、セットアップ手順、使い方（ビルド方法）、FAQ、トラブルシューティングを記載

#### 4.5.3 モジュール化

**詳細仕様**:
- 各機能（タイマー、アラーム、ストップウォッチ）を独立したモジュールとして実装
- 共通機能（UI部品、ユーティリティ関数）は再利用可能なライブラリとして切り出す
- 依存関係を最小化し、疎結合なアーキテクチャを維持

#### 4.5.4 拡張性

**詳細仕様**:
- 将来的な機能追加（複数タイマー、よく使う用のプリセット機能等）を考慮した設計とすること

### 4.6 互換性

#### 4.6.1 ブラウザ互換性

**詳細仕様**:
- Chrome（バージョン120以降）: 完全動作保証
- Firefox（バージョン121以降）: 完全動作保証
- Safari（バージョン17以降）: 完全動作保証
- Edge（バージョン120以降）: 完全動作保証
- それ以前のバージョン: 動作保証外だが、可能な限り動作するよう努める

#### 4.6.2 デバイス互換性

**詳細仕様**:
- iOS 15以降: iPhone、iPadで動作保証
- Android 10以降: 主要なAndroidデバイスで動作保証
- Windows 10/11、macOS 12以降: デスクトップ環境で動作保証

### 4.7 セキュリティ

#### 4.7.1 データプライバシー

**詳細仕様**:
- 個人情報（氏名、メールアドレス等）を一切取得しないこと
- クッキーは使用しないこと（ローカルストレージのみ使用）
- 外部サーバーへのデータ送信を一切行わないこと

#### 4.7.2 ローカルストレージのセキュリティ

**詳細仕様**:
- 保存データに機密情報を含めないこと
- ローカルストレージのデータは平文で保存されることをユーザーに明示すること（プライバシーポリシー等で）

---

## 5. 制約条件

### 5.1 技術的制約

#### 5.1.1 使用技術

**詳細仕様**:

**必須技術スタック**:
- HTML5: セマンティックHTML、Notification API等を活用
- CSS3: Flexbox、Grid、CSS Variables、Media Queries等を使用
- TypeScript: 型安全性を確保し、バグを減らすため採用

**使用可能なライブラリ・フレームワーク**:
- UIフレームワーク: なし（TypeScriptで実装）
- ビルドツール: Vite
- テストフレームワーク: Jest、Vitest

**制約**:
- 外部ライブラリの使用は最小限にすること（依存関係を減らすため）
- React、Vue、Angular等のフレームワークは使用しないこと（学習コストと軽量性を考慮）

**技術選定の理由**:
- TypeScript: 型安全性によりバグを早期発見、チーム開発での生産性向上

#### 5.1.2 データストレージ

**詳細仕様**:
- ブラウザのローカルストレージを使用してアラーム設定、ユーザー設定を保存すること
- ローカルストレージの容量制限（通常5～10MB）を考慮し、データサイズを最小化すること
- バックエンドサーバー、データベースは使用しないこと

### 5.2 開発制約

#### 5.2.1 開発期間

**詳細仕様**:
- 開発期間: 2025年12月～2026年6月（7ヶ月間）
- マイルストーン:
  - 2025年12月: 要件定義
  - 2026年1月: 要件定義・設計
  - 2026年2月: 設計
  - 2026年3月: 設計・実装
  - 2026年4月: 実装
  - 2026年5月: テスト
  - 2026年6月: バグ修正、リリース

#### 5.2.2 開発体制

**詳細仕様**:
- 開発メンバー: 萬藤・安達・仲野（3名）
- 役割分担:
  - 要件定義・全体設計・UI設計・コードレビュー・テスト（全員）
  - タイマー機能実装（萬藤）
  - アラーム機能実装（安達）
  - ストップウォッチ機能実装（仲野）

**コミュニケーション**:
- 週1回の定例ミーティング（進捗確認、課題共有）
- Slack等のチャットツールで日常的なコミュニケーション
- GitHubのIssue、Pull Requestでタスク管理

#### 5.2.3 予算

**詳細仕様**:
- 予算: 0円（無償開発）
- 使用可能なリソース: 無料のツール、サービスのみ
  - 開発ツール: Visual Studio Code、Git、GitHub等の無料ツール
  - 音声素材: フリー素材サイトからダウンロード

### 5.3 運用制約

#### 5.3.1 配布・提出方法

- **提出形式**: ソースコードをGitHubで提出
- **実行方法**: 
  1. Githubにアクセスし、ソースコードをダウンロード
  2. index.htmlをブラウザで直接開く（localhost://）
  3. または、ローカルサーバー（Live Server等）で実行
- **動作確認環境**: 提出前に、開発者の環境（Chrome、Firefox等）での動作確認は必ず行うこと

---

## 6. インターフェース要件

### 6.1 ユーザーインターフェース

#### 6.1.1 画面構成

**詳細仕様**:
- 画面上部に3つの機能（タイマー、アラーム、ストップウォッチ）を切り替える手段を提供すること
- 各機能の主要な操作（開始、停止、リセット等）は、明確なボタンで提供すること
- 時刻表示は大きく見やすく表示すること
- ダークモード/ライトモードの切り替えが可能であること
- すべてのインタラクティブ要素は、タッチデバイスでも操作しやすいサイズであること

**注記**: 具体的な画面レイアウト、配色、ボタンデザイン等の詳細は、別途「画面仕様書」に記載する

### 6.2 音声インターフェース

#### 6.2.1 通知音

**詳細仕様**:
- 通知音はフリー素材を使用すること
- 音量調整が可能であること（0%～100%）
- 音声通知のオン/オフを切り替えられること

#### 6.2.2 音量調整

**詳細仕様**:

**音量調整機能**:
- 設定メニューで音量を調節できること
- 範囲: 0%（ミュート）～100%（最大音量）
- デフォルト: 50%
- リアルタイムプレビュー: スライダー操作中に通知音を小さく再生

#### 6.2.3 音声のオン/オフ

**詳細仕様**:

**切り替え方法**:
- 設定メニューでオン/オフが切り替えられること
- 状態: デフォルトはオン

**動作**:
- オフにした場合、すべての音声通知を無効化
- 音量設定は保持され、再度オンにした際に元の音量で再生

**注記**: 使用する音声ファイルの種類、再生仕様等の詳細は、別途「画面仕様書」に記載する

---

## 7. データ要件

### 7.1 保存データ

**詳細仕様**:

**保存先**: ブラウザのローカルストレージ（localStorage）

**保存対象**:
- アラーム設定（時刻、ラベル、オン/オフ状態）
- 音量設定
- 音声通知のオン/オフ状態
- ダークモード/ライトモードの選択状態
- 最後に使用していたモード（タイマー/アラーム/ストップウォッチ）

**データ保存形式**: JSON形式

**例外処理**:
- ローカルストレージが無効な場合、その旨をユーザーに通知し設定が保存されないことを警告する
- データ読み込みに失敗した場合、デフォルト設定で起動する

**データ保存タイミング**:
- アラーム追加・削除・変更時: 即座に保存
- 設定変更時: 即座に保存
- ページを閉じる前: window.beforeunloadイベントで最終保存（念のため）

### 7.2 データ保存期間

**詳細仕様**:
- 保存期間: ユーザーがブラウザのキャッシュ・ローカルストレージをクリアするまで無期限に保持
- 自動削除: なし（アプリケーション側からは削除しない）

**データクリア方法**:
- ブラウザの設定からローカルストレージをクリア
- アプリケーション内に「すべてのデータを削除」ボタンを設置（設定メニュー内）
  - クリック時、確認ダイアログを表示: 「すべての設定とアラームが削除されます。本当によろしいですか?」
  - 確認後、ローカルストレージを完全にクリアし、アプリケーションをリロード

---

## 8. テスト要件

### 8.1 テスト戦略

**詳細仕様**:

**テストレベル**:
1. **単体テスト**: 個々の関数・モジュールの動作確認
2. **統合テスト**: モジュール間の連携動作確認
3. **システムテスト（受け入れテスト）**: アプリケーション全体の動作確認

**テスト方法**:
- 単体テスト・統合テスト: Jest、Vitestを使用した手動テスト
- システムテスト（受け入れテスト）: 手動テスト（テストケースに基づく）
- クロスブラウザテスト: BrowserStackまたは実機を使用

**テストカバレッジ目標**: 80%以上（コードカバレッジ）

**テスト実施体制**:
- 開発メンバー全員がテストに参加すること
- コードレビューを実施し、品質を担保すること

### 8.3 受け入れ基準

**受け入れ条件**:
以下の条件をすべて満たした場合、本プロジェクトを完了とみなします。

1. **機能要件の充足**:
   - 第3章に記載されたすべての機能要件が実装され、動作することが確認されている

2. **非機能要件の充足**:
   - 第4章に記載された性能、信頼性、ユーザビリティ、アクセシビリティの各要件を満たすこと
   - 対象ブラウザ（Chrome、Firefox、Safari、Edge）で正常に動作すること

3. **テスト完了**:
   - すべてのテストケースが実行され、合格している
   - 重大なバグ（システム停止、データ損失等）が存在しない
   - 軽微なバグは、将来のリリースで修正することを記録

4. **ステークホルダー承認**:
   - プロジェクトオーナーおよび開発チーム全員が、リリース可能と判断している

---

## 9. リスク管理

### 9.1 想定されるリスクと対応策

| リスク項目 | 発生確率 | 影響度 | リスク内容 | 対応策 |
|-----------|---------|-------|----------|--------|
| タイマー精度の低下 | 中 | 中 | ブラウザのタブが非アクティブになると、ブラウザの省電力機能により精度が低下し、タイマーがずれる可能性がある | Performance APIを使用して実時間を基準にカウントダウンを計算する。また、初回起動時に精度低下の可能性をユーザーに通知する |
| ブラウザ通知の拒否 | 高 | 低 | ユーザーがブラウザ通知を拒否した場合、通知が表示されない | 画面内通知と音声通知を必須とし、ブラウザ通知は補助的な位置づけとする。通知拒否時、設定画面で再許可を促すメッセージを表示 |
| ローカルストレージの容量超過 | 低 | 低 | 大量のデータを保存すると、ローカルストレージの容量制限（5～10MB）を超える可能性がある | 保存データを最小限に抑える設計とし、定期的にデータサイズをチェックする。容量超過時、古いデータを削除する旨を警告 |
| 開発遅延 | 高 | 高 | 予期しない技術的課題や、メンバーの体調不良や業務等の事情により、開発が遅延する可能性がある | 週次で進捗を確認し、遅延の兆候があれば早期に対策を検討。優先度の低い機能は次回リリースに延期 |
| クロスブラウザ互換性の問題 | 中 | 中 | 特定のブラウザで動作しない、または表示が崩れる可能性がある | 開発初期段階から各ブラウザでテストを実施。Polyfill等を適切に使用 |

---

## 10. 付録

### 10.1 参考資料

- **WCAG 2.1 Guidelines**: https://www.w3.org/WAI/WCAG21/quickref/
- **Apple Human Interface Guidelines**: https://developer.apple.com/design/human-interface-guidelines/

### 10.2 改訂予定

- 本要求仕様書は、開発の進行に応じて適宜更新されます
- 仕様変更等の重要な変更は、バージョンを上げて改訂履歴に記録します
- 軽微な修正（誤字脱字、表現の改善等）は、同バージョン内で更新します

---
